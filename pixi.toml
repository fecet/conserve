[workspace]
authors = ["fecet <xiezej@gmail.com>"]
channels = ["https://repo.prefix.dev/meta-forge", "conda-forge"]
name = "conserve"
platforms = ["linux-64"]
version = "0.1.0"

[tasks]
test = "pytest"

[dependencies]
python = "3.12.*"
pip = "*"
hatchling = "*"
tomlkit = "*"
tyro = "*"
msgspec = "*"
pytest = "*"
deepmerge = "*"
"ruamel.yaml" = "*"
datamodel-code-generator = "*"
packaging = "*"
ipython = "*"
fsspec = "*"
universal-pathlib = "*"
pathvalidate = "*"
aiohttp = "*"

[feature.proto.dependencies]
buf = "*"
betterproto2 = "*"
grpcio = "*"

[feature.proto.tasks]
gen-proto = "buf generate"

[feature.proto.pypi-dependencies]
betterproto2-compiler = "*"

[pypi-dependencies]
conserve = { path = ".", editable = true }
schemastore = "*"
packageurl-python = "*"
pytest-aiohttp = "*"

[activation.env]
PYTHONDONTWRITEBYTECODE = "1"

[environments]
gen = { features = ["proto"] }
